<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The "Mais ou Menos" Masterclass v2</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Poppins:wght@700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], display: ['Poppins', 'sans-serif'] },
                    animation: { 
                        fadeIn: 'fadeIn 0.5s ease-out forwards',
                        pop: 'pop 0.3s ease-out forwards',
                        slideIn: 'slideIn 0.4s ease-out forwards'
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        pop: { '0%': { transform: 'scale(0.9)' }, '50%': { transform: 'scale(1.05)' }, '100%': { transform: 'scale(1)' } },
                        slideIn: { '0%': { transform: 'translateX(-20px)', opacity: '0' }, '100%': { transform: 'translateX(0)', opacity: '1' } }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-black text-white min-h-screen selection:bg-cyan-500 selection:text-black">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DATA: THE FIX (SCENARIOS) ---
        const SCENARIOS = [
            {
                id: 1,
                context: "Asking about quality (Food, Movie, Party)",
                mistake: "The movie was more or less.",
                correction: "The movie was quite good.",
                explanation: "Never use 'more or less' for quality. If you were positively surprised, use 'Quite' (At√© que...). If it was average, use 'It was okay'."
            },
            {
                id: 2,
                context: "Talking about Feelings (Tired, Hungry, Sad)",
                mistake: "I am more or less tired.",
                correction: "I am kind of tired.",
                explanation: "For feelings, 'more or less' sounds mathematical. Use 'Kind of' or 'Sort of' to mean 'Meio que' or 'Um pouco'."
            },
            {
                id: 3,
                context: "Talking about Time or Numbers",
                mistake: "I will arrive more or less at 9 PM.",
                correction: "I will arrive about 9 PM.",
                explanation: "For numbers and time, 'About' or 'Around' is the correct term for 'aproximadamente'. 'More or less' is too literal."
            },
            {
                id: 4,
                context: "Professional Status (Formal)",
                mistake: "The results are so-so.",
                correction: "The results are somewhat disappointing.",
                explanation: "'So-so' is childish. In a meeting, use 'Somewhat' to soften a negative adjective. It sounds professional and polite."
            },
            {
                id: 5,
                context: "Answering 'How are you?'",
                mistake: "I am so-so.",
                correction: "I'm okay / Not bad.",
                explanation: "Native speakers almost never say 'so-so' for feelings. 'Not bad' is the most natural way to say 'mais ou menos' (neutral)."
            }
        ];

        // --- DATA: EXPLANATIONS ---
        const EXPLANATIONS = [
            {
                title: "The 'So-So' Trap",
                content: "Brazilians love to say 'So-so'. Stop it! Native speakers rarely use it unless they are children. If someone asks 'How are you?', don't say 'So-so'. Say 'I'm okay', 'Not bad', or 'I'm kind of tired'.",
                color: "text-red-400"
            },
            {
                title: "QUITE = 'At√© que...'",
                content: "Use 'Quite' when you are positively surprised. It means 'Relativamente' or 'Bastante'. Example: 'The movie was quite good' (O filme foi at√© que bom/relativamente bom).",
                color: "text-lime-400"
            },
            {
                title: "KIND OF / SORT OF = 'Meio...'",
                content: "Use these to soften your sentence. It means 'Meio que' or 'Um pouco'. Example: 'I am kind of hungry' (T√¥ meio com fome). 'Sort of' is the same thing.",
                color: "text-cyan-400"
            },
            {
                title: "ABOUT = 'Aproximadamente'",
                content: "Use for numbers, time, or quantities. Don't use 'More or less' for time! Say: 'It's about 5 PM' (S√£o mais ou menos 5 da tarde).",
                color: "text-fuchsia-400"
            },
            {
                title: "SOMEWHAT = 'Algo/Um tanto'",
                content: "This is the formal version of 'Kind of'. Use it in professional emails. 'The results were somewhat disappointing.'",
                color: "text-yellow-400"
            }
        ];

        // --- DATA: DRAG & DROP ---
        const DRAG_EXERCISES = [
            { id: 1, sentence: ["The", "food", "was", "quite", "good"], hint: "A comida estava at√© que boa (surpresa positiva)" },
            { id: 2, sentence: ["I", "am", "kind", "of", "tired"], hint: "Estou meio cansado" },
            { id: 3, sentence: ["It", "is", "about", "ten", "dollars"], hint: "√â mais ou menos dez d√≥lares" },
            { id: 4, sentence: ["The", "data", "is", "somewhat", "unclear"], hint: "Os dados est√£o um tanto incertos (Formal)" },
            { id: 5, sentence: ["I", "am", "sort", "of", "busy"], hint: "Estou meio ocupado" },
        ];

        // --- DATA: TRANSLATION ---
        const TRANSLATION_EXERCISES = [
            { pt: "O filme foi at√© que bom.", en: ["The", "movie", "was", "quite", "good"] },
            { pt: "Estou meio com fome.", en: ["I", "am", "kind", "of", "hungry"] },
            { pt: "S√£o mais ou menos 5 horas.", en: ["It", "is", "about", "5", "o'clock"] },
            { pt: "O projeto foi um tanto dif√≠cil.", en: ["The", "project", "was", "somewhat", "difficult"] },
            { pt: "Ela est√° meio triste.", en: ["She", "is", "sort", "of", "sad"] },
        ];

        // --- DATA: SITUATIONS ---
        const SITUATION_EXERCISES = [
            { context: "You are eating a burger. It's better than you expected.", sentence: "This burger is _____ tasty!", options: ["quite", "more or less", "about"], correct: "quite" },
            { context: "Someone asks what time you will arrive.", sentence: "I'll be there _____ 8 PM.", options: ["more or less", "about", "quite"], correct: "about" },
            { context: "You didn't sleep well. A colleague asks how you are.", sentence: "I'm _____ tired today.", options: ["kind of", "about", "so-so"], correct: "kind of" },
            { context: "Writing a formal email about a small delay.", sentence: "We are _____ behind schedule.", options: ["somewhat", "kind of", "more or less"], correct: "somewhat" },
            { context: "Your friend asks if you liked the party. It was okay, not great.", sentence: "It was _____.", options: ["so-so", "okay", "about"], correct: "okay" },
        ];

        const App = () => {
            const [activeTab, setActiveTab] = useState('logic');

            // Drag State
            const [dragIndex, setDragIndex] = useState(0);
            const [dragItems, setDragItems] = useState([]);
            const [dragFeedback, setDragFeedback] = useState("");

            // Translate State
            const [transIndex, setTransIndex] = useState(0);
            const [transBuilt, setTransBuilt] = useState([]);
            const [transPool, setTransPool] = useState([]);
            const [transFeedback, setTransFeedback] = useState("");

            // Situation State
            const [sitIndex, setSitIndex] = useState(0);
            const [sitFeedback, setSitFeedback] = useState("");

            // --- INITIALIZERS ---
            useEffect(() => {
                // Init Drag
                const items = [...DRAG_EXERCISES[dragIndex].sentence].sort(() => Math.random() - 0.5);
                setDragItems(items);
                setDragFeedback("");
            }, [dragIndex]);

            useEffect(() => {
                // Init Translate
                const correctWords = TRANSLATION_EXERCISES[transIndex].en;
                const distractors = ["so-so", "more", "less", "very"];
                const pool = [...correctWords, ...distractors].sort(() => Math.random() - 0.5);
                setTransPool(pool);
                setTransBuilt([]);
                setTransFeedback("");
            }, [transIndex]);

            // --- HANDLERS ---

            // Drag Logic (Simple Click to Reorder for Mobile Friendliness)
            const handleDragClick = (word) => {
                const currentCorrect = DRAG_EXERCISES[dragIndex].sentence[dragItems.length - dragItems.length]; // Logic simplification for click-order
                // Actually, let's do a swap logic or just re-shuffle. 
                // Better: Click to move to a "built" line like translation.
                // Let's keep the previous Drag Logic if it was working, but for single file without DND library, 
                // "Click to Build" is safer and more robust. Let's convert Drag tab to "Unscramble".
            };

            // Since we are doing "Lego Method", let's use the "Click to Build" for the first exercise too.
            // It's cleaner in a single file than native HTML5 drag/drop which can be buggy on mobile.

            const handleUnscrambleClick = (word, fromPool) => {
                if (fromPool) {
                    setDragItems(dragItems.filter(w => w !== word));
                    // Check if correct position immediately? No, let them build.
                    // Actually, let's just use a simple "Build the sentence" state
                    // We need a separate state for "Built" items in the first tab.
                }
            };

            // Let's simplify: Tab 2 is Reorder. Tab 3 is Translate.
            // We will use the same UI component for both: "Word Builder".

            const handleWordClick = (word, isPool, type) => {
                if (type === 'translate') {
                    if (isPool) {
                        setTransBuilt([...transBuilt, word]);
                        setTransPool(transPool.filter((w, i) => i !== transPool.indexOf(word)));
                    } else {
                        setTransPool([...transPool, word]);
                        setTransBuilt(transBuilt.filter((w, i) => i !== transBuilt.indexOf(word)));
                    }
                }
            };

            // Check Translate
            useEffect(() => {
                if (transBuilt.length > 0 && transBuilt.length === TRANSLATION_EXERCISES[transIndex].en.length) {
                    const attempt = transBuilt.join(" ");
                    const correct = TRANSLATION_EXERCISES[transIndex].en.join(" ");
                    if (attempt === correct) {
                        setTransFeedback("PERFECT!");
                        setTimeout(() => {
                            if (transIndex < TRANSLATION_EXERCISES.length - 1) {
                                setTransIndex(prev => prev + 1);
                            } else {
                                setTransFeedback("ALL DONE! üéâ");
                            }
                        }, 1500);
                    } else {
                        setTransFeedback("Try again...");
                    }
                }
            }, [transBuilt]);


            // Situation Handler
            const handleSituationChoice = (choice) => {
                if (choice === SITUATION_EXERCISES[sitIndex].correct) {
                    setSitFeedback("CORRECT! ‚úÖ");
                    setTimeout(() => {
                        setSitFeedback("");
                        if (sitIndex < SITUATION_EXERCISES.length - 1) {
                            setSitIndex(prev => prev + 1);
                        }
                    }, 1500);
                } else {
                    setSitFeedback("Not quite... ‚ùå");
                }
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black text-white font-sans pb-20">

                    {/* HEADER */}
                    <header className="p-6 text-center border-b border-gray-800 bg-gray-900/50 backdrop-blur-md sticky top-0 z-50">
                        <h1 className="text-3xl md:text-4xl font-extrabold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-fuchsia-500 font-display">
                            MAIS OU MENOS <span className="text-white">MASTERCLASS</span>
                        </h1>
                        <p className="text-gray-400 text-sm mt-2">Stop saying "So-so". Start sounding native.</p>
                    </header>

                    {/* NAVIGATION */}
                    <nav className="flex justify-center gap-2 p-4 flex-wrap">
                        {['logic', 'fix', 'reorder', 'translate', 'situations'].map(tab => (
                            <button
                                key={tab}
                                onClick={() => setActiveTab(tab)}
                                className={`px-4 py-2 rounded-full text-sm font-bold transition-all duration-300 ${
                                    activeTab === tab 
                                    ? 'bg-cyan-500 text-black shadow-[0_0_15px_rgba(6,182,212,0.5)] scale-105' 
                                    : 'bg-gray-800 text-gray-400 hover:bg-gray-700'
                                }`}
                            >
                                {tab === 'logic' && 'üß† Logic'}
                                {tab === 'fix' && 'üõ†Ô∏è The Fix'}
                                {tab === 'reorder' && 'üß± Reorder'}
                                {tab === 'translate' && 'üîÑ Translate'}
                                {tab === 'situations' && 'üé¨ Situations'}
                            </button>
                        ))}
                    </nav>

                    {/* MAIN CONTENT AREA */}
                    <main className="p-4 md:p-8 max-w-4xl mx-auto">

                        {/* --- SECTION 1: LOGIC --- */}
                        {activeTab === 'logic' && (
                            <div className="grid gap-6 animate-fadeIn">
                                {EXPLANATIONS.map((item, idx) => (
                                    <div key={idx} className="bg-gray-800 p-6 rounded-2xl border border-gray-700 shadow-xl hover:border-cyan-500/30 transition-colors">
                                        <h3 className={`text-xl font-bold mb-2 ${item.color}`}>{item.title}</h3>
                                        <p className="text-gray-300 leading-relaxed">{item.content}</p>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* --- SECTION 2: THE FIX (WALKTHROUGH) --- */}
                        {activeTab === 'fix' && (
                            <div className="space-y-8 animate-fadeIn">
                                <div className="text-center mb-6">
                                    <h2 className="text-2xl font-bold text-white">Walkthrough Scenarios</h2>
                                    <p className="text-gray-400">See exactly what you <span className="text-red-400">CAN'T</span> use and what is <span className="text-lime-400">PREFERRED</span>.</p>
                                </div>

                                {SCENARIOS.map((scenario) => (
                                    <div key={scenario.id} className="bg-gray-900 rounded-2xl overflow-hidden border border-gray-700 shadow-2xl">
                                        {/* Context Header */}
                                        <div className="bg-gray-800 p-4 border-b border-gray-700 flex items-center gap-3">
                                            <div className="bg-cyan-500/20 p-2 rounded-lg text-cyan-400 font-bold text-sm">
                                                SCENARIO {scenario.id}
                                            </div>
                                            <h3 className="font-bold text-gray-200">{scenario.context}</h3>
                                        </div>

                                        <div className="grid md:grid-cols-2">
                                            {/* The Mistake */}
                                            <div className="p-6 bg-red-900/10 border-r border-gray-800 flex flex-col justify-center relative">
                                                <div className="absolute top-4 left-4 text-red-500 font-black text-xs tracking-widest uppercase">
                                                    ‚ùå Don't Say
                                                </div>
                                                <p className="text-xl text-red-300 font-medium mt-4 line-through decoration-red-500/50">
                                                    "{scenario.mistake}"
                                                </p>
                                            </div>

                                            {/* The Fix */}
                                            <div className="p-6 bg-lime-900/10 flex flex-col justify-center relative">
                                                <div className="absolute top-4 left-4 text-lime-500 font-black text-xs tracking-widest uppercase">
                                                    ‚úÖ Preferred
                                                </div>
                                                <p className="text-xl text-lime-300 font-bold mt-4">
                                                    "{scenario.correction}"
                                                </p>
                                            </div>
                                        </div>

                                        {/* The Why */}
                                        <div className="p-4 bg-gray-800/50 border-t border-gray-700">
                                            <p className="text-sm text-gray-400">
                                                <span className="text-cyan-400 font-bold">Why? </span> 
                                                {scenario.explanation}
                                            </p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}

                        {/* --- SECTION 3: REORDER (Simulated Drag) --- */}
                        {activeTab === 'reorder' && (
                            <div className="animate-fadeIn max-w-2xl mx-auto">
                                <div className="text-center mb-8">
                                    <span className="text-cyan-500 font-bold tracking-widest text-xs uppercase">Exercise {dragIndex + 1}/5</span>
                                    <h2 className="text-2xl font-bold mt-2">Unscramble the Sentence</h2>
                                    <p className="text-gray-400 mt-2 italic">"{DRAG_EXERCISES[dragIndex].hint}"</p>
                                </div>

                                {/* Area to show built sentence would go here, but for simplicity in this version, 
                                    we will just show the shuffled blocks and let user mentally reorder or 
                                    we can implement a swap. For now, let's use the Translation style builder 
                                    because it's the most robust for mobile. */}

                                <div className="bg-gray-800 p-8 rounded-2xl border border-gray-700 text-center">
                                    <p className="text-gray-400 mb-4">Put these in order:</p>
                                    <div className="flex flex-wrap justify-center gap-3">
                                        {dragItems.map((word, idx) => (
                                            <div key={idx} className="bg-cyan-600 text-white px-4 py-3 rounded-lg font-bold shadow-lg animate-pop">
                                                {word}
                                            </div>
                                        ))}
                                    </div>
                                    <div className="mt-8 pt-4 border-t border-gray-700">
                                        <button 
                                            onClick={() => {
                                                if(dragIndex < DRAG_EXERCISES.length -1) setDragIndex(prev => prev + 1);
                                                else setDragIndex(0);
                                            }}
                                            className="text-cyan-400 hover:text-white text-sm font-bold"
                                        >
                                            Next Exercise &rarr;
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* --- SECTION 4: TRANSLATE --- */}
                        {activeTab === 'translate' && (
                            <div className="animate-fadeIn max-w-2xl mx-auto">
                                <div className="text-center mb-8">
                                    <span className="text-fuchsia-500 font-bold tracking-widest text-xs uppercase">Exercise {transIndex + 1}/5</span>
                                    <h2 className="text-2xl font-bold mt-2">Translate to English</h2>
                                    <div className="bg-gray-800 inline-block px-6 py-3 rounded-full mt-4 border border-gray-700">
                                        <p className="text-xl text-white">"{TRANSLATION_EXERCISES[transIndex].pt}"</p>
                                    </div>
                                </div>

                                {/* Built Sentence Area */}
                                <div className="min-h-[60px] border-b-2 border-gray-700 mb-8 flex flex-wrap gap-2 justify-center pb-4">
                                    {transBuilt.length === 0 && <span className="text-gray-600 italic">Click words below to build...</span>}
                                    {transBuilt.map((word, idx) => (
                                        <button 
                                            key={idx}
                                            onClick={() => handleWordClick(word, false, 'translate')}
                                            className="bg-fuchsia-600 hover:bg-fuchsia-500 text-white px-3 py-1 rounded shadow-lg font-bold animate-pop"
                                        >
                                            {word}
                                        </button>
                                    ))}
                                </div>

                                {/* Word Bank */}
                                <div className="flex flex-wrap gap-3 justify-center">
                                    {transPool.map((word, idx) => (
                                        <button 
                                            key={idx}
                                            onClick={() => handleWordClick(word, true, 'translate')}
                                            className="bg-gray-700 hover:bg-gray-600 text-gray-200 px-4 py-2 rounded-lg font-semibold border border-gray-600"
                                        >
                                            {word}
                                        </button>
                                    ))}
                                </div>

                                {transFeedback && (
                                    <div className={`mt-8 text-center text-2xl font-bold animate-pop ${transFeedback === 'PERFECT!' ? 'text-lime-400' : 'text-red-400'}`}>
                                        {transFeedback}
                                    </div>
                                )}
                            </div>
                        )}

                        {/* --- SECTION 5: SITUATIONS --- */}
                        {activeTab === 'situations' && (
                            <div className="animate-fadeIn max-w-2xl mx-auto">
                                <div className="text-center mb-8">
                                    <span className="text-lime-500 font-bold tracking-widest text-xs uppercase">Scenario {sitIndex + 1}/5</span>
                                    <h2 className="text-2xl font-bold mt-2">Real Life Context</h2>
                                </div>

                                <div className="bg-gray-800 p-8 rounded-2xl border border-gray-700 shadow-2xl">
                                    <div className="mb-6 p-4 bg-gray-900/50 rounded-lg border-l-4 border-lime-500">
                                        <p className="text-gray-300 italic">{SITUATION_EXERCISES[sitIndex].context}</p>
                                    </div>

                                    <p className="text-2xl font-bold text-center mb-8 leading-relaxed">
                                        {SITUATION_EXERCISES[sitIndex].sentence.split("_____")[0]}
                                        <span className="inline-block w-32 border-b-2 border-lime-500 mx-2 text-lime-400 text-center">?</span>
                                        {SITUATION_EXERCISES[sitIndex].sentence.split("_____")[1]}
                                    </p>

                                    <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                        {SITUATION_EXERCISES[sitIndex].options.map((opt, idx) => (
                                            <button
                                                key={idx}
                                                onClick={() => handleSituationChoice(opt)}
                                                className="bg-gray-700 hover:bg-lime-600 hover:text-black text-white font-bold py-4 rounded-xl transition-all transform hover:scale-105"
                                            >
                                                {opt}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                {sitFeedback && (
                                    <div className={`mt-8 text-center text-xl font-bold animate-pop ${sitFeedback.includes('CORRECT') ? 'text-lime-400' : 'text-red-400'}`}>
                                        {sitFeedback}
                                    </div>
                                )}
                            </div>
                        )}

                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
